/*!
 * Name    : Flickr's Justified Gallery [fjGallery]
 * Version : 1.0.2
 * Author  : nK <https://nkdev.info>
 * GitHub  : https://github.com/nk-o/flickr-justified-gallery
 */!function(o){var i={};function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=o,n.c=i,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(o,t,e){"use strict";(function(t){var e;e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o.exports=e}).call(t,e(5))},function(t,e,o){"use strict";(function(o){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * @name JavaScript/NodeJS Merge v1.2.0
 * @author yeikos
 * @repository https://github.com/yeikos/js.merge

 * Copyright 2014 yeikos - MIT license
 * https://raw.github.com/yeikos/js.merge/master/LICENSE
 */!function(t){var u=function(t){return e(!0===t,!1,arguments)};function l(t,e){if("object"!==h(t))return e;for(var o in e)"object"===h(t[o])&&"object"===h(e[o])?t[o]=l(t[o],e[o]):t[o]=e[o];return t}function e(t,e,o){var i=o[0],n=o.length;(t||"object"!==h(i))&&(i={});for(var r=0;r<n;++r){var a=o[r];if("object"===h(a))for(var s in a){var c=t?u.clone(a[s]):a[s];i[s]=e?l(i[s],c):c}}return i}function h(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}u.recursive=function(t){return e(!0===t,!0,arguments)},u.clone=function(t){var e,o,i=t,n=h(t);if("array"===n)for(i=[],o=t.length,e=0;e<o;++e)i[e]=u.clone(t[e]);else if("object"===n)for(e in i={},t)i[e]=u.clone(t[e]);return i},t?o.exports=u:window.merge=u}("object"===t(o)&&o&&"object"===t(o.exports)&&o.exports)}).call(e,o(8)(t))},function(t,e,o){"use strict";t.exports=function(t){"complete"===document.readyState||"interactive"===document.readyState?t.call():document.attachEvent?document.attachEvent("onreadystatechange",function(){"interactive"===document.readyState&&t.call()}):document.addEventListener&&document.addEventListener("DOMContentLoaded",t)}},function(t,e,o){t.exports=o(4)},function(t,e,o){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=s(o(2)),r=o(0),a=s(o(6));function s(t){return t&&t.__esModule?t:{default:t}}var c=r.window.fjGallery;if(r.window.fjGallery=a.default,r.window.fjGallery.noConflict=function(){return r.window.fjGallery=c,this},void 0!==r.jQuery){var u=r.window.fjGallery.constructor.prototype.init;r.window.fjGallery.constructor.prototype.init=function(){this.jQcontainer=(0,r.jQuery)(this.$container),this.jQcontainer.data("fjGallery",this),u&&u.call(this)};var l=r.window.fjGallery.constructor.prototype.destroy;r.window.fjGallery.constructor.prototype.destroy=function(){this.jQcontainer&&this.jQcontainer.removeData("fjGallery"),l&&l.call(this)};var h=function(){var t=arguments||[];Array.prototype.unshift.call(t,this);var e=a.default.apply(r.window,t);return"object"!==(void 0===e?"undefined":i(e))?e:this};h.constructor=a.default.constructor;var f=r.jQuery.fn.fjGallery;r.jQuery.fn.fjGallery=h,r.jQuery.fn.fjGallery.noConflict=function(){return r.jQuery.fn.fjGallery=f,this}}(0,n.default)(function(){(0,a.default)(document.querySelectorAll(".fj-gallery"))})},function(t,e,o){"use strict";var i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}t.exports=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function i(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,o){return e&&i(t.prototype,e),o&&i(t,o),t}}(),s=h(o(7)),c=h(o(1)),n=h(o(2)),r=h(o(9)),u=h(o(10)),l=o(0);function h(t){return t&&t.__esModule?t:{default:t}}var f=[];function d(){(0,r.default)(function(){f.forEach(function(t){t.resize()})})}l.window.addEventListener("resize",d),l.window.addEventListener("orientationchange",d),l.window.addEventListener("load",d),(0,n.default)(function(){d()});var p=0,g=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var o=this;o.instanceID=p++,o.$container=t,o.images=[],o.defaults={itemSelector:".fj-gallery-item",imageSelector:"img",gutter:10,rowHeight:320,rowHeightTolerance:.25,resizeThrottle:200,onInit:null,onDestroy:null,onAppendImages:null,onBeforeJustify:null,onJustify:null};var i=o.$container.dataset||{},n={};Object.keys(i).forEach(function(t){var e=t.substr(0,1).toLowerCase()+t.substr(1);e&&void 0!==o.defaults[e]&&(n[e]=i[t])}),o.options=(0,c.default)({},o.defaults,n,e),o.pureOptions=(0,c.default)({},o.options),o.resize=(0,s.default)(o.options.resizeThrottle,o.resize),o.init()}return i(r,[{key:"css",value:function(e,o){return"string"==typeof o?l.window.getComputedStyle(e).getPropertyValue(o):(o.transform&&(o["-webkit-transform"]=o.transform),Object.keys(o).forEach(function(t){e.style[t]=o[t]}),e)}},{key:"addToFjGalleryList",value:function(){f.push(this),d()}},{key:"removeFromFjGalleryList",value:function(){var o=this;f.forEach(function(t,e){t.instanceID===o.instanceID&&f.splice(e,1)})}},{key:"init",value:function(){var t=this;t.appendImages(t.$container.querySelectorAll(t.options.itemSelector)),t.addToFjGalleryList(),t.options.onInit&&t.options.onInit.call(t)}},{key:"appendImages",value:function(t){var f=this;l.window.jQuery&&t instanceof l.window.jQuery&&(t=t.get()),t&&t.length&&(t.forEach(function(t){if(t&&!t.fjGalleryImage&&t.querySelector){var h=t.querySelector(f.options.imageSelector);if(h){t.fjGalleryImage=f;var e={$item:t,$image:h,width:parseFloat(h.getAttribute("width"))||!1,height:parseFloat(h.getAttribute("height"))||!1,loadSizes:function(){var t,e,o,i,n,r,a,s,c,u,l=this;t=h,o=void 0,n=i=!(e=function(t){l.width===t.width&&l.height===t.height||(l.width=t.width,l.height=t.height,f.resize())}),r=function(){i?e(i):(i={width:t.naturalWidth,height:t.naturalHeight},e(i),clearInterval(o),n&&u())},a=function(){r()},s=function(){r()},u=function(){n=!1,t.removeEventListener("load",a),t.removeEventListener("error",s)},(c=function(){0<t.naturalWidth&&r()})(),i||(n=!0,t.addEventListener("load",a),t.addEventListener("error",s),o=setInterval(c,100))}};e.loadSizes(),f.images.push(e)}}}),f.options.onAppendImages&&f.options.onAppendImages.call(f,[t]),f.justify())}},{key:"justify",value:function(){var e=this,o=[];e.options.onBeforeJustify&&e.options.onBeforeJustify.call(e),e.images.forEach(function(t){t.width&&t.height&&o.push(t.width/t.height)});var i=(0,u.default)(o,{containerWidth:e.$container.getBoundingClientRect().width,containerPadding:{top:parseFloat(e.css(e.$container,"padding-top"))||0,right:parseFloat(e.css(e.$container,"padding-right"))||0,bottom:parseFloat(e.css(e.$container,"padding-bottom"))||0,left:parseFloat(e.css(e.$container,"padding-left"))||0},boxSpacing:e.options.gutter,targetRowHeight:e.options.rowHeight,targetRowHeightTolerance:e.options.rowHeightTolerance});e.css(e.$container,{height:i.containerHeight+"px"});var n=0;e.images.forEach(function(t){t.width&&t.height&&(e.css(t.$item,{position:"absolute",transform:"translateX("+i.boxes[n].left+"px) translateY("+i.boxes[n].top+"px) translateZ(0)",width:i.boxes[n].width+"px",height:i.boxes[n].height+"px"}),n++)}),e.options.onJustify&&e.options.onJustify.call(e)}},{key:"updateOptions",value:function(t){this.options=(0,c.default)({},this.options,t),this.justify()}},{key:"destroy",value:function(){var e=this;e.removeFromFjGalleryList(),e.options.onDestroy&&e.options.onDestroy.call(e),e.css(e.$container,{height:""}),e.images.forEach(function(t){e.css(t.$item,{position:"",transform:"",width:"",height:""})}),e.images.forEach(function(t){delete t.$item.fjGalleryImage}),delete e.$container.fjGallery}},{key:"resize",value:function(){this.justify()}}]),r}(),y=function(t){("object"===("undefined"==typeof HTMLElement?"undefined":a(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":a(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)&&(t=[t]);for(var e=arguments[1],o=Array.prototype.slice.call(arguments,2),i=t.length,n=0,r=void 0;n<i;n++)if("object"===(void 0===e?"undefined":a(e))||void 0===e?t[n].fjGallery||(t[n].fjGallery=new g(t[n],e)):t[n].fjGallery&&(r=t[n].fjGallery[e].apply(t[n].fjGallery,o)),void 0!==r)return r;return t};y.constructor=g,e.default=y},function(t,e,o){"use strict";t.exports=function(n,r,a,s){var c,u=0;return"boolean"!=typeof r&&(s=a,a=r,r=void 0),function(){var t=this,e=Number(new Date)-u,o=arguments;function i(){u=Number(new Date),a.apply(t,o)}s&&!c&&i(),c&&clearTimeout(c),void 0===s&&n<e?i():!0!==r&&(c=setTimeout(s?function(){c=void 0}:i,void 0===s?n-e:n))}}},function(t,e,o){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,o){"use strict";var i=o(0),n=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||function(t){var e=+new Date,o=Math.max(0,16-(e-r)),i=setTimeout(t,o);return r=e,i},r=+new Date;var a=i.cancelAnimationFrame||i.webkitCancelAnimationFrame||i.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(n=n.bind(i),a=a.bind(i)),(t.exports=n).cancel=a},function(t,e,o){"use strict";
/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */var p=o(1),i=o(11);function g(t,e){var o;return!1!==t.fullWidthBreakoutRowCadence&&(e._rows.length+1)%t.fullWidthBreakoutRowCadence==0&&(o=!0),new i({top:e._containerHeight,left:t.containerPadding.left,width:t.containerWidth-t.containerPadding.left-t.containerPadding.right,spacing:t.boxSpacing.horizontal,targetRowHeight:t.targetRowHeight,targetRowHeightTolerance:t.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*t.targetRowHeight,edgeCaseMaxRowHeight:2*t.targetRowHeight,rightToLeft:!1,isBreakoutRow:o,widowLayoutStyle:t.widowLayoutStyle})}function y(t,e,o){return e._rows.push(o),e._layoutItems=e._layoutItems.concat(o.getItems()),e._containerHeight+=o.height+t.boxSpacing.vertical,o.items}t.exports=function(t,e){var o,i,n,r,a,s,c,u={},l={},h={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},f={},d={};return u=p(h,e=e||{}),f.top=isNaN(parseFloat(u.containerPadding.top))?u.containerPadding:u.containerPadding.top,f.right=isNaN(parseFloat(u.containerPadding.right))?u.containerPadding:u.containerPadding.right,f.bottom=isNaN(parseFloat(u.containerPadding.bottom))?u.containerPadding:u.containerPadding.bottom,f.left=isNaN(parseFloat(u.containerPadding.left))?u.containerPadding:u.containerPadding.left,d.horizontal=isNaN(parseFloat(u.boxSpacing.horizontal))?u.boxSpacing:u.boxSpacing.horizontal,d.vertical=isNaN(parseFloat(u.boxSpacing.vertical))?u.boxSpacing:u.boxSpacing.vertical,u.containerPadding=f,u.boxSpacing=d,l._layoutItems=[],l._awakeItems=[],l._inViewportItems=[],l._leadingOrphans=[],l._trailingOrphans=[],l._containerHeight=u.containerPadding.top,l._rows=[],l._orphans=[],u._widowCount=0,o=u,i=l,n=t.map(function(t){return t.width&&t.height?{aspectRatio:t.width/t.height}:{aspectRatio:t}}),c=[],o.forceAspectRatio&&n.forEach(function(t){t.forcedAspectRatio=!0,t.aspectRatio=o.forceAspectRatio}),n.some(function(t,e){if(isNaN(t.aspectRatio))throw new Error("Item "+e+" has an invalid aspect ratio");if(a||(a=g(o,i)),r=a.addItem(t),a.isLayoutComplete()){if(c=c.concat(y(o,i,a)),i._rows.length>=o.maxNumRows)return!(a=null);if(a=g(o,i),!r&&(r=a.addItem(t),a.isLayoutComplete())){if(c=c.concat(y(o,i,a)),i._rows.length>=o.maxNumRows)return!(a=null);a=g(o,i)}}}),a&&a.getItems().length&&o.showWidows&&(i._rows.length?(s=i._rows[i._rows.length-1].isBreakoutRow?i._rows[i._rows.length-1].targetRowHeight:i._rows[i._rows.length-1].height,a.forceComplete(!1,s)):a.forceComplete(!1),c=c.concat(y(o,i,a)),o._widowCount=a.getItems().length),i._containerHeight=i._containerHeight-o.boxSpacing.vertical,i._containerHeight=i._containerHeight+o.containerPadding.bottom,{containerHeight:i._containerHeight,widowCount:o._widowCount,boxes:i._layoutItems}}},function(t,e,o){"use strict";
/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */var c=o(1);(t.exports=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight,this.widowLayoutStyle=t.widowLayoutStyle,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,o,i,n=this.items.concat(t),r=this.width-(n.length-1)*this.spacing,a=n.reduce(function(t,e){return t+e.aspectRatio},0),s=r/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&1<=t.aspectRatio?(this.items.push(t),this.completeLayout(r/t.aspectRatio,"justify"),!0):a<this.minAspectRatio?(this.items.push(c(t)),!0):a>this.maxAspectRatio?0===this.items.length?(this.items.push(c(t)),this.completeLayout(r/a,"justify"),!0):(e=this.width-(this.items.length-1)*this.spacing,o=this.items.reduce(function(t,e){return t+e.aspectRatio},0),i=e/this.targetRowHeight,Math.abs(a-s)>Math.abs(o-i)?(this.completeLayout(e/o,"justify"),!1):(this.items.push(c(t)),this.completeLayout(r/a,"justify"),!0)):(this.items.push(c(t)),this.completeLayout(r/a,"justify"),!0)},isLayoutComplete:function(){return 0<this.height},completeLayout:function(t,e){var o,i,n,r,a,s=this.left,c=this.width-(this.items.length-1)*this.spacing;(void 0===e||["justify","center","left"].indexOf(e)<0)&&(e="left"),t!==(i=Math.max(this.edgeCaseMinRowHeight,Math.min(t,this.edgeCaseMaxRowHeight)))?(this.height=i,o=c/i/(c/t)):(this.height=t,o=1),this.items.forEach(function(t){t.top=this.top,t.width=t.aspectRatio*this.height*o,t.height=this.height,t.left=s,s+=t.width+this.spacing},this),"justify"===e?(s-=this.spacing+this.left,n=(s-this.width)/this.items.length,r=this.items.map(function(t,e){return Math.round((e+1)*n)}),1===this.items.length?this.items[0].width-=Math.round(n):this.items.forEach(function(t,e){0<e?(t.left-=r[e-1],t.width-=r[e]-r[e-1]):t.width-=r[e]})):"center"===e&&(a=(this.width-s)/2,this.items.forEach(function(t){t.left+=a+this.spacing},this))},forceComplete:function(t,e){"number"==typeof e?this.completeLayout(e,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}}}]);
//# sourceMappingURL=fjGallery.min.js.map
