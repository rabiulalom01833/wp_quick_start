!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=36)}({0:function(t,e,a){"use strict";function n(t,e,a,n){var i,o=!1,r=0;function l(){i&&clearTimeout(i)}function s(){var s=this,c=Date.now()-r,d=arguments;function p(){r=Date.now(),a.apply(s,d)}o||(n&&!i&&p(),l(),void 0===n&&c>t?p():!0!==e&&(i=setTimeout(n?function(){i=void 0}:p,void 0===n?t-c:t)))}return"boolean"!=typeof e&&(n=a,a=e,e=void 0),s.cancel=function(){l(),o=!0},s}function i(t,e,a){return void 0===a?n(t,e,!1):n(t,a,!1!==e)}a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i}))},36:function(t,e,a){t.exports=a(37)},37:function(t,e,a){"use strict";a.r(e);var n=a(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}
/*!
 * Name    : Visual Portfolio
 * Version : @@plugin_version
 * Author  : nK https://nkdev.info
 */(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=jQuery,l=window,s=l.ajaxurl,c=l.VPAdminVariables,d=l.CodeMirror,p=l.emmetCodeMirror,v=r("body"),u=r(window),f=r('form[name="post"]'),m=r("#postID, #post_ID").eq(0).val(),g=r(".vp-content-source"),h=g.find('[name="vp_content_source"]');g.on("click",".vp-content-source__item",(function(){var t=r(this).attr("data-content");g.find('[data-content="'.concat(t,'"]')).addClass("active").siblings().removeClass("active"),h.val(t).change()})),g.children('[data-content="'.concat(h.val(),'"]')).click(),r.fn.conditionize&&f.conditionize(),r(".vp-control-range").each((function(){var t=r(this).find("input"),e=t.filter('[type="hidden"]');t.on("change input",(function(a){t.val(r(this).val()),e.trigger("vp-fake-".concat(a.type))}))})),r.fn.wpColorPicker&&r(".vp-color-picker").each((function(){r(this).data("change",Object(n.a)(300,(function(t){r(t.target).change()}))).wpColorPicker()})),r.fn.imagepicker&&r(".vp-image-picker").imagepicker();var _=r(".vp_list_preview iframe"),y=r(".vp_list_preview_preloader"),b=!1,w=!1,C=!1,k=r('<form target="vp_list_preview_iframe" method="post" style="display: none">').attr("action",_.attr("src")).insertAfter(f);function x(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?y.addClass("vp_list_preview_preloader_active"):y.removeClass("vp_list_preview_preloader_active")}function j(){var t="",e=r('[name="vp_controls_styles"]'),a=".vp-id-".concat(m),n=e.val();r('.vp-control-style [type="hidden"]').each((function(){var e=r(this),n=e.closest(".vp-control");if("none"!==n.css("display")){var i=e.attr("data-style-mask")||"$",o=n.find(e.attr("data-style-from")),l=o.val(),s=!1;if(n.hasClass("vp-control-toggle")&&o.length>1&&(o=o.filter('[type="checkbox"]')),o.is('[type="checkbox"]')&&(s=!(l=o.is(":checked"))),!s){var c=i.replace("$",l),d=a+" "+e.attr("data-style-element"),p=e.attr("data-style-property");t&&(t+=" "),t+="".concat(d," { ").concat(p,": ").concat(c,"; }")}}})),n!==t&&e.val(t).trigger("vp-fake-change")}function S(){if(w){var t=function t(e){if(e&&e.hasChildNodes()){for(var a=[],n=0;n<e.childNodes.length;n++)a.push(t(e.childNodes[n]));return{classList:e.classList,nodeName:e.nodeName,children:a}}return!1}(w[0]);r(".vp-dom-tree").html(function t(e,a){if(!e)return"";var n="";if(e.children.length){var i="",o="",r=!1,l=!1;e.classList&&e.classList.length&&(o=' class="',e.classList.forEach((function(t){a.skipClass&&a.skipClass.test(t)||(o+='<span class="vp-dom-tree-node-class">'.concat(t,"</span>")),a.skipNodeByClass&&a.skipNodeByClass.test(t)&&(r=!0),a.collapseByClass&&a.collapseByClass.test(t)&&(l=!0)})),o+='"'),r||(i+="<ul>",i+='<li class="vp-dom-tree-node '.concat(l?"is-collapsed":"",'"><div><span class="vp-dom-tree-node-collapse"></span>&lt;').concat(e.nodeName.toLowerCase()).concat(o),i+="&gt;</div></li>",e.children.forEach((function(e){e&&(i+='<li class="vp-dom-tree-child">'.concat(t(e,a),"</li>"))})),n+=i+="</ul>")}return n}(t,{skipNodeByClass:/vp-portfolio__item-popup/,collapseByClass:/^(vp-portfolio__preloader-wrap|vp-portfolio__filter-wrap|vp-portfolio__sort-wrap|vp-portfolio__items-wrap|vp-portfolio__pagination-wrap)$/,skipClass:/vp-uid-/}))}}function O(){b=!1,C=!1,w=!1,x(),k.submit()}r.fn.iFrameResize&&_.iFrameResize({interval:10}),void 0!==window.ClipboardJS&&new window.ClipboardJS(".vp-dom-tree-node-class, .vp-dom-tree-help code",{target:function(t){return t},text:function(t){return".".concat(t.innerText.replace(/^\./,""))}}).on("success",(function(t){void 0!==window.Tooltip&&(t.trigger.tooltipClipboard||(t.trigger.tooltipClipboard=new window.Tooltip(t.trigger,{placement:"top",title:"Copied to Clipboard!",trigger:"manual",container:v[0]})),t.trigger.tooltipClipboard.show(),r(t.trigger).one("mouseleave",(function(){t.trigger.tooltipClipboard.hide()})))})),v.on("click",".vp-dom-tree-node-collapse",(function(){r(this).closest("li").toggleClass("is-collapsed")})),O=Object(n.a)(400,O),f.on("change input vp-fake-change vp-fake-input",'[name*="vp_"]',(function(t){var e=r(this);if(!e.closest(".vp-no-reload").length)if(r('[name="'.concat(e.attr("name"),'__style[]"]')).length)j();else{var a={name:e.attr("name"),value:e.is("[type=checkbox], [type=radio]")?e.is(":checked"):e.val(),reload:"change"===t.type||"vp-fake-change"===t.type,window:b,jQuery:C,$portfolio:w},n=k.find('[name="'.concat(a.name,'"]'));n.length||(n=r('<input type="hidden" name="'.concat(a.name,'" />')).appendTo(k)),n.attr("value",a.value),u.trigger("vp-preview-change",a),a.reload||(j(),b&&b.vp_preview_post_data&&(b.vp_preview_post_data[a.name]=a.value)),!a.reload&&w||O()}})),_.on("load",(function(){b=this.contentWindow,C=this.contentWindow.jQuery,w=C(".vp-portfolio"),j(),S(),x(!1)})),u.on("vp-preview-change",(function(t,e){if(e.$portfolio)switch(e.name){case"vp_tiles_type":case"vp_masonry_columns":case"vp_grid_columns":case"vp_justified_row_height":case"vp_justified_row_height_tolerance":case"vp_slider_effect":case"vp_slider_speed":case"vp_slider_autoplay":case"vp_slider_autoplay_hover_pause":case"vp_slider_centered_slides":case"vp_slider_loop":case"vp_slider_free_mode":case"vp_slider_free_mode_sticky":case"vp_slider_arrows":case"vp_slider_arrows_icon_prev":case"vp_slider_arrows_icon_next":case"vp_slider_bullets":case"vp_slider_bullets_dynamic":case"vp_items_gap":var a=e.name;a=(a=a.substring(3)).replace(/_/g,"-"),e.$portfolio.attr("data-vp-".concat(a),e.value),e.$portfolio.vpf("init"),e.reload=!1;break;case"vp_filter_align":e.$portfolio.find(".vp-filter").removeClass("vp-filter__align-center vp-filter__align-left vp-filter__align-right").addClass("vp-filter__align-".concat(e.value)),e.reload=!1;break;case"vp_sort_align":e.$portfolio.find(".vp-sort").removeClass("vp-sort__align-center vp-sort__align-left vp-sort__align-right").addClass("vp-sort__align-".concat(e.value)),e.reload=!1;break;case"vp_pagination_align":e.$portfolio.find(".vp-pagination").removeClass("vp-pagination__align-center vp-pagination__align-left vp-pagination__align-right").addClass("vp-pagination__align-".concat(e.value)),e.reload=!1;break;case"vp_controls_styles":var n=e.$portfolio.closest("html"),i="vp-controls-styles-".concat(m,"-inline-css"),o=n.find("#".concat(i));o.length||(o=e.jQuery('<style id="'.concat(i,'">')),n.find("body").prepend(o)),o.html(e.value),e.reload=!1;break;case"vp_custom_css":var r=e.$portfolio.closest("html"),l="vp-custom-css-".concat(m,"-inline-css"),s=r.find("#".concat(l));s.length||(s=e.jQuery('<style id="'.concat(l,'">')),r.find("body").prepend(s)),s.html(e.value),e.reload=!1;break;case"vp_list_name":case"vp_stretch":e.reload=!1}})),v.on("click",".vp-control-image-dropdown",(function(t){r(t.target).closest(".vp-control-image-dropdown__content").length||r(this).toggleClass("active")})),v.on("mousedown",(function(t){var e=r(t.target).closest(".vp-control-image-dropdown");r(".vp-control-image-dropdown.active").each((function(){this!==e[0]&&r(this).removeClass("active")}))})),v.on("change",".vp-control-image-dropdown .vp-image-picker",(function(){var t=r(this),e=t.data("picker");if(e){var a=e.select.find('option[value="'.concat(e.select.val(),'"]')),n=a.parent("optgroup"),i=t.closest(".vp-control-image-dropdown"),o=a.attr("data-img-src");i.length&&(i.children(".vp-control-image-dropdown__preview").html('<img src="'.concat(o,'" alt="">')),n.length&&i.children(".vp-control-image-dropdown__title").html(n.attr("label")))}}));var L=r('[name="vp_list_name"]'),T=r('[name="post_title"]');L.length&&T.length&&(L.on("input",(function(){T.val()!==L.val()&&T.val(L.val()).change()})),T.on("input",(function(){L.val(T.val())}))),r.fn.select2&&r(".vp-select2").each((function(){var t=r(this),e={width:"100%",minimumResultsForSearch:t.hasClass("vp-select2-nosearch")?-1:1,tags:t.hasClass("vp-select2-tags")},a=!!t.attr("data-post-type")&&r(t.attr("data-post-type"));t.closest(".vp-select2-posts-ajax").length&&(e=r.extend({minimumInputLength:1,ajax:{url:s,dataType:"json",delay:250,data:function(t){return{action:"vp_find_posts",q:t.term,post_type:!!a&&a.val(),nonce:c.nonce}},processResults:function(t){return{results:!(!t||!t.length)&&t}},cache:!0},escapeMarkup:function(t){return t},templateResult:function(t){if(t.loading)return t.text;var e="";t.title&&(e=t.title);var a="";t.post_type&&(a=t.post_type);var n="";return t.img&&(n="style=\"background-image: url('".concat(t.img,"');\"")),"".concat('<div class="vp-select2-ajax__result"><div class="vp-select2-ajax__result-img" ').concat(n,"></div>")+'<div class="vp-select2-ajax__result-data">'+'<div class="vp-select2-ajax__result-title">'.concat(e,"</div>")+'<div class="vp-select2-ajax__result-post-type">'.concat(a,"</div>")+"</div></div>"},templateSelection:function(t){return t.title||t.text}},e)),t.closest(".vp-select2-taxonomies-ajax").length&&(e=r.extend({minimumInputLength:1,ajax:{url:s,dataType:"json",delay:250,data:function(t){return{action:"vp_find_taxonomies",q:t.term,post_type:!!a&&a.val(),nonce:c.nonce}},processResults:function(t){var e=[];return t&&Object.keys(t).forEach((function(a){e.push({text:a,children:t[a]})})),{results:e}},cache:!0}},e)),t.select2(e).data("select2").$dropdown.addClass("select2-vp-container")}));var E=r(".vp-control-gallery"),M=0;function z(t,e){var a=t.find('[data-image-id="'+e+'"]'),n={id:e};return a.find("[data-additional]").each((function(){var t=r(this),e=t.attr("data-additional");if(n[e]=t.html(),"true"===t.attr("data-to-json"))try{n[e]=JSON.parse(n[e])}catch(t){n[e]=""}})),n}function A(t){var e=[];t.children(".vp-control-gallery-items").find(".vp-control-gallery-items-img").each((function(){e.push(z(t,r(this).attr("data-image-id")))}));var a=JSON.stringify(e),n=t.children("textarea");a!==n.val()&&n.val(a).change()}function $(){E.find(".vp-control-gallery-additional-data.active").each((function(){var t=r(this),e=t.children(),a=t.height(),n=e.height();if(n>=a)e.css({marginTop:""});else{var i=a-n,o=t.offset().top-32;o>=0?e.css({marginTop:""}):e.css({marginTop:Math.min(i,Math.abs(o))})}}))}function N(t,e){var a=t.children("textarea").attr("name"),i=t.children(".vp-control-gallery-additional-data"),l=i.find(".vp-control-gallery-additional-data-preview"),s=t.children(".vp-control-gallery-items").find('.vp-control-gallery-items-img[data-image-id="'+e+'"]'),c=z(t,e),d=function(t,e){var a=t.find('[data-image-id="'+e+'"]'),n={};return a.find("[data-meta]").each((function(){n[r(this).attr("data-meta")]=r(this).html()})),n}(t,e);c&&Object.keys(c).forEach((function(e){var n=i.find('[name="'+a+"_additional_"+e+'"], [name="'+a+"_additional_"+e+'[]"]').val(c[e]||"");if(n.hasClass("vp-select2")){if(n.hasClass("vp-select2-tags")){var l=[],s=[];t.children(".vp-control-gallery-items").find(".vp-control-gallery-items-img").each((function(){var a=z(t,r(this).attr("data-image-id"));a&&void 0!==a[e]&&a[e]&&(l=o(new Set([].concat(o(l),o(a[e])))))})),l.forEach((function(t){s.push(new window.Option(t,t,!1,!1))})),n.html(s.length?s:""),n.val(void 0!==c[e]&&c[e]?c[e]:"")}n.trigger("change")}})),l.find(".vp-control-gallery-additional-data-preview-image img").attr("src",s.children("img").attr("src")||""),l.find(".vp-control-gallery-additional-data-preview-name").html(d.filename),l.find(".vp-control-gallery-additional-data-preview-size").html(d.width+"x"+d.height+" ("+d.filesizeHumanReadable+")"),l.find(".vp-control-gallery-additional-data-preview-edit a").attr("href",d.editLink.replace("&amp;","&")),s.siblings().removeClass("active"),s.addClass("active"),i.addClass("active"),M=E.find(".vp-control-gallery-additional-data.active").length,Object(n.a)(150,$)()}if(E.length&&(r(".postbox-container").on("scroll",Object(n.a)(150,$)),u.on("scroll resize",Object(n.a)(150,$))),r.fn.sortable&&(E.each((function(){var t=r(this),e=t.children(".vp-control-gallery-items-default");t.children(".vp-control-gallery-items").sortable({animation:150,draggable:".vp-control-gallery-items-img",onUpdate:function(){A(t)}}),t.on("click",".vp-control-gallery-items-remove",(function(e){e.preventDefault(),r(this).parent().remove(),A(t)})),t.on("click",".vp-control-gallery-items-add",(function(a){a.preventDefault();var n=t.data("wp-frame");n?n.open():wp.media?(n=wp.media({title:"Select or Upload Images",button:{text:"Add images"},multiple:!0,library:{type:"image"}}),t.data("wp-frame",n),n.on("select",(function(){var a=n.state().get("selection").models;a&&a.length&&(a.forEach((function(a){var n=a.attributes.url;a.attributes.sizes&&a.attributes.sizes.thumbnail&&(n=a.attributes.sizes.thumbnail.url);var i=e.children().clone();i.attr("data-image-id",a.id),i.children("img").attr("src",n),i.find('[data-meta="width"]').html(a.attributes.width),i.find('[data-meta="height"]').html(a.attributes.height),i.find('[data-meta="filename"]').html(a.attributes.filename),i.find('[data-meta="editLink"]').html(a.attributes.editLink),i.find('[data-meta="filesizeHumanReadable"]').html(a.attributes.filesizeHumanReadable),a.attributes.title&&i.find('[data-additional="title"]').html(a.attributes.title),a.attributes.description&&i.find('[data-additional="description"]').html(a.attributes.description),t.find(".vp-control-gallery-items-add").before(i)})),A(t))})),n.open()):console.error("Can't access wp.media object.")})),t.on("click",".vp-control-gallery-items-img",(function(e){e.preventDefault(),N(t,r(this).attr("data-image-id"))})),t.on("change input",".vp-control-gallery-additional-data [name]",Object(n.a)(200,(function(){var e=t.children(".vp-control-gallery-additional-data"),a=t.children("textarea").attr("name"),n=t.children(".vp-control-gallery-items").find(".vp-control-gallery-items-img.active").attr("data-image-id");if(n){var o=t.children(".vp-control-gallery-items").find('[data-image-id="'+n+'"]');e.find('[name*="'+a+'_additional_"]').each((function(){var t=r(this).attr("name").replace(a+"_additional_","").replace("[]",""),e=r(this).val()||"";"object"===i(e)&&(e=JSON.stringify(e)),o.find('[data-additional="'+t+'"]').html(e||"")})),A(t)}})))})),E.length)){var P=E.children(".vp-control-gallery-additional-data");r(document).on("mousedown",(function(t){if(M){var e=t.target;r(e).closest(".vp-control-gallery-additional-data, .vp-control-gallery-items-img, .select2-vp-container").length||(P.removeClass("active"),E.children(".vp-control-gallery-items").find(".vp-control-gallery-items-img.active").removeClass("active"),M=E.find(".vp-control-gallery-additional-data.active").length)}}))}var R=r('[name="vp_custom_css"]'),B=!1,D=!0;function I(t,e){if(D&&(e=!1,D=!1),c&&c.css_editor_error_notice){var a=!1;if(1===t.length?a=c.css_editor_error_notice.singular.replace("%d","1"):t.length>1&&(a=c.css_editor_error_notice.plural.replace("%d",String(t.length))),a){var n=R.prev("#vp_custom_css_notice");if(n.length||e||(n=r('<div class="notice notice-error inline" id="vp_custom_css_notice"></div>'),R.before(n)),!n.length)return;var i='<p class="notification-message">'.concat(a,"</p>")+'<p><input id="vp_custom_css_notice_prevent" type="checkbox">'+'<label for="vp_custom_css_notice_prevent">'.concat(c.css_editor_error_checkbox,"</label>")+"</p>";n.html(i)}else R.prev("#vp_custom_css_notice").remove()}}if(void 0!==d&&R.length){var J=function(t){V.css("height",Math.max(200,q+t.originalEvent.y-H)),F.setSize(null,Math.max(200,q+t.y-H)+"px")},Q=function t(){v.off("mousemove",J),v.off("mouseup",t)};if(c&&c.classnames){var U=d.hint.css;d.hint.css=function(t){var e=t.getCursor(),a=U(t)||{from:e,to:t.getCursor(),list:[]},n=t.getTokenAt(e);return"top"===n.state.state&&0===n.string.indexOf(".")&&(a={from:d.Pos(e.line,n.start),to:d.Pos(e.line,n.end),list:[]},c.classnames.forEach((function(t){-1!==t.indexOf(n.string)&&a.list.push(t)}))),a}}var F=d.fromTextArea(R[0],{mode:"css",theme:"eclipse",indentUnit:4,autoCloseTags:!0,autoCloseBrackets:!0,matchBrackets:!0,foldGutter:!0,lint:{options:{errors:!0,"box-model":!0,"display-property-grouping":!0,"duplicate-properties":!0,"known-properties":!0,"outline-none":!0},onUpdateLinting:function(t,e,a){var n=[];t.forEach((function(t){"error"===t.severity&&n.push(t)})),a.vcLintErrors=n,B||I(a.vcLintErrors,!0)}},lineNumbers:!0,lineWrapping:!0,scrollPastEnd:!0,emmet_active:!0,emmet:!0,styleActiveLine:!0,continueComments:!0,scrollbarStyle:"simple",extraKeys:{"Ctrl-Space":"autocomplete","Ctrl-/":"toggleComment","Cmd-/":"toggleComment","Alt-F":"findPersistent"},gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]});p(F),R.data("CodeMirrorInstance",F),F.on("change",(function(){F.save(),R.change()})),F.on("keyup",(function(t,e){var a=/^[a-zA-Z]$/.test(e.key);if(!t.state.completionActive||!a){var n=t.getTokenAt(t.getCursor());if("string"!==n.type&&"comment"!==n.type){var i=t.doc.getLine(t.doc.getCursor().line).substr(0,t.doc.getCursor().ch);(a||":"===e.key||" "===e.key&&/:\s+$/.test(i))&&t.showHint({completeSingle:!1})}}}));var H,q,W=r(".CodeMirror-resizer").after(R),V=W.prev(".CodeMirror");W.on("mousedown",(function(t){H=t.originalEvent.y,q=V.height(),v.on("mousemove",J),v.on("mouseup",Q)}))}var G=!1;v.on("click","#publish:not(.disabled)",(function(t){if(G=!0,!B){var e=r(this),a=R.length&&R.data("CodeMirrorInstance");a&&a.vcLintErrors&&a.vcLintErrors.length&&(t.preventDefault(),e.addClass("disabled button-disabled button-primary-disabled"),setTimeout((function(){e.removeClass("disabled button-disabled button-primary-disabled")}),1500),I(a.vcLintErrors,!1),r("html,body").animate({scrollTop:r("#vp_custom_css").offset().top-100},300),a.focus(),a.setCursor(a.vcLintErrors[0].from.line))}}));var K=f.serialize();r(window).on("beforeunload",(function(){if(!G)return K!==f.serialize()||void 0;G=!1})),v.on("change","#vp_custom_css_notice_prevent",(function(){B=!0,r(this).closest(".notice").slideUp()}))}});